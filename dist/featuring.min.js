/*! featuring v0.1.0 | (C) 2017 Alasdair Mercer, !ninja | MIT License */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("featuring",t):n.featuring=t()}(this,function(){"use strict";function n(n,t){this._name=n,this._scope=t}function t(t,e){return new n(t,e)}function e(n,t){return function(){if(1===n.length)return n(t);var e=arguments[0],r=Array.prototype.slice.call(arguments,1);return n.apply(null,[e,t].concat(r))}}function r(n,t,r,i){for(var u,o=0,f=r.length;o<f;o++)u=r[o],t[u]=e(n[u],i)}function i(n){a(n)&&(n=[n]);for(var t={},e=0,r=n.length;e<r;e++)t[n[e]]=!0;return t}function u(n){return a(n)?c[n]:l}function o(n){var t=[];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.push(e);return t}function f(n){return"function"==typeof n}function a(n){return"string"==typeof n}var c={},l=null;return n.prototype={constructor:n,active:function(){var n=u(this._scope);return Boolean(n&&n[this._name])},using:function(t){return new n(this._name,t)},verify:function(){if(!this.active())throw new Error(this._name+" feature is not active");return this},when:function(n){return this.active()&&n(),this}},t.active=function(t,e){a(t)&&(t=[t]);for(var r,i=0,u=t.length;i<u;i++)if(r=new n(t[i],e),!r.active())return!1;return!0},t.get=function(n){var t=u(n);return t?o(t):[]},t.init=function(n,e){if(a(e)){if(c[e])throw new Error('"'+e+'" scope features have already been initialized');c[e]=i(n)}else{if(l)throw new Error("Global features have already been initialized");l=i(n)}return t},t.initialized=function(n){return null!=u(n)},t.using=function(n){var i=e(t,n);return r(t,i,["active","get","init","initialized","verify","when"],n),i.using=t.using,i},t.verify=function(e,r){a(e)&&(e=[e]);for(var i,u=0,o=e.length;u<o;u++)i=new n(e[u],r),i.verify();return t},t.when=function(n,e,r){return f(e)&&(r=e,e=null),t.active(n,e)&&r(),t},t});

//# sourceMappingURL=featuring.min.js.map