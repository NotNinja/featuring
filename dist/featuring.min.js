/*! featuring v0.1.0 | (C) 2017 Alasdair Mercer, !ninja | MIT License */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("featuring",e):n.featuring=e()}(this,function(){"use strict";function n(n,e){this._name=n,this._scope=e}function e(e,t){return new n(e,t)}function t(n,e){return function(){if(1===n.length)return n(e);var t=arguments[0],r=Array.prototype.slice.call(arguments,1);return n.apply(null,[t,e].concat(r))}}function r(n,e,r,i){for(var a,o=0,u=r.length;o<u;o++)a=r[o],e[a]=t(n[a],i)}function i(n){f(n)&&(n=[n]);for(var e={},t=0,r=n.length;t<r;t++)e[n[t]]=!0;return e}function a(n){return f(n)?c[n]:v}function o(n){var e=[];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(t);return e}function u(n){return"function"==typeof n}function f(n){return"string"==typeof n}var c={},v=null;return n.prototype={constructor:n,active:function(){var n=a(this._scope);return Boolean(n&&n[this._name])},using:function(e){return new n(this._name,e)},verify:function(){var n,e;if(!this.active())throw n='"'+this._name+'"',e=f(this._scope)?'"'+this._scope+'"':"global",new Error(n+" feature in "+e+" scope is not active");return this},when:function(n){return this.active()&&n(),this}},e.active=function(e,t){f(e)&&(e=[e]);for(var r,i=0,a=e.length;i<a;i++)if(r=new n(e[i],t),!r.active())return!1;return!0},e.active.any=function(e,t){f(e)&&(e=[e]);for(var r,i=0,a=e.length;i<a;i++)if(r=new n(e[i],t),r.active())return!0;return!1},e.anyActive=e.active.any,e.get=function(n){var e=a(n);return e?o(e):[]},e.init=function(n,t){if(f(t)){if(c[t])throw new Error('"'+t+'" scope features have already been initialized');c[t]=i(n)}else{if(v)throw new Error("Global features have already been initialized");v=i(n)}return e},e.initialized=function(n){return null!=a(n)},e.using=function(n){var i=t(e,n);return r(e,i,["active","anyActive","get","init","initialized","verify","verifyAny","when","whenAny"],n),i.active.any=i.anyActive,i.using=e.using,i.verify.any=i.verifyAny,i.when.any=i.whenAny,i},e.verify=function(t,r){f(t)&&(t=[t]);for(var i,a=0,o=t.length;a<o;a++)i=new n(t[a],r),i.verify();return e},e.verify.any=function(n,t){if(e.active.any(n,t))return e;var r=f(t)?'"'+t+'"':"global";throw new Error("No named features in "+r+" scope are active")},e.verifyAny=e.verify.any,e.when=function(n,t,r){return u(t)&&(r=t,t=null),e.active(n,t)&&r(),e},e.when.any=function(n,t,r){return u(t)&&(r=t,t=null),e.active.any(n,t)&&r(),e},e.whenAny=e.when.any,e});

//# sourceMappingURL=featuring.min.js.map