/*! featuring v0.1.0alpha | (C) 2017 Alasdair Mercer, !ninja | MIT License */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("featuring",e):n.featuring=e()}(this,function(){"use strict";function n(n,e){this._name=n,this._scope=e}function e(e,t){return new n(e,t)}function t(n,e){return function(){if(1===n.length)return n(e);var t=arguments[0],r=Array.prototype.slice.call(arguments,1);return n.apply(null,[t,e].concat(r))}}function r(n,e,r,i){for(var o,u=0,c=r.length;u<c;u++)o=r[u],e[o]=t(n[o],i)}function i(n){c(n)&&(n=[n]);for(var e={},t=0,r=n.length;t<r;t++)e[n[t]]=!0;return e}function o(n){return c(n)?a[n]:f}function u(n){var e=[];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(t);return e}function c(n){return"string"==typeof n}var a={},f=null;return n.prototype={constructor:n,active:function(){var n=o(this._scope);return Boolean(n&&n[this._name])},check:function(){if(!this.active())throw new Error(this._name+" feature is not active")},when:function(n){var e=this.active();return e&&n(),e}},e.active=function(e,t){c(e)&&(e=[e]);for(var r,i=0,o=e.length;i<o;i++)if(r=new n(e[i],t),!r.active())return!1;return!0},e.check=function(e,t){c(e)&&(e=[e]);for(var r,i=0,o=e.length;i<o;i++)r=new n(e[i],t),r.check()},e.get=function(n){return u(o(n))},e.init=function(n,e){if(c(e)){if(null!=a[e])throw new Error('"'+e+'" scope features have already been initialized');a[e]=i(n)}else{if(null!=f)throw new Error("Global features have already been initialized");f=i(n)}},e.using=function(n){var i=t(e,n);return r(e,i,["active","check","get","init","when"],n),i.using=e.using,i},e.when=function(n,t,r){var i=e.active(n,t);return i&&r(),i},e});

//# sourceMappingURL=featuring.min.js.map